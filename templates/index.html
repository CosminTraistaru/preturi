{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import "bootstrap/fixes.html" as fixes %}
{% block title %}Cand imi cumpar?{% endblock %}

{% block styles %}
{{super()}}
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
{% endblock %}

{% block navbar %}
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle"
              data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Cand imi cumpar?</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
        <li><a href="#">Home</a></li>
        <li><a href="#">Cauta</a></li>
        <li><a href="#">Something</a></li>
      </ul>
    </div>
  </div>
</nav>
{% endblock %}

{% block content %}
<div class="container">
  <h4><img src="{{ produs.image }}"></h4>
  <h4>{{ produs.magazin }}</h4>
  <h4>{{ produs.nume }}</h4>
  <h4><a href="{{ produs.link }}">{{ produs.link }}</a></h4>
  <div id="myfirstchart" style="height: 300px;"></div>
</div>
{% endblock %}
{% block scripts%}
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>
<script>
var chart = '{{ produs.json_response }}';
//var chart = JSON.parse(text)
console.log('{{ produs.json_response }}');
console.log('blas');
new Morris.Line({
  // ID of the element in which to draw the chart.
  element: 'myfirstchart',
  // Chart data records -- each entry in this array corresponds to a point on
  // the chart.
  data: [{"value": "5299", "year": "2014-10-28"}, {"value": "5299", "year": "2014-10-21"}, {"value": "5299", "year": "2014-10-03"}, {"value": "5299", "year": "2014-10-24"}, {"value": "5299", "year": "2014-10-09"}, {"value": "5299", "year": "2014-10-20"}, {"value": "5299", "year": "2014-10-22"}, {"value": "5299", "year": "2014-10-18"}, {"value": "5299", "year": "2014-10-13"}, {"value": "5299", "year": "2014-10-19"}, {"value": "5299", "year": "2014-10-29"}, {"value": "5699", "year": "2014-10-02"}, {"value": "5299", "year": "2014-10-23"}, {"value": "5299", "year": "2014-10-06"}, {"value": "5299", "year": "2014-10-05"}, {"value": "5699", "year": "2014-09-30"}, {"value": "5299", "year": "2014-10-16"}, {"value": "5299", "year": "2014-10-25"}, {"value": "5299", "year": "2014-10-17"}, {"value": "5299", "year": "2014-10-04"}, {"value": "5299", "year": "2014-10-15"}, {"value": "5299", "year": "2014-10-07"}, {"value": "5299", "year": "2014-10-14"}, {"value": "5699", "year": "2014-10-01"}, {"value": "5299", "year": "2014-10-26"}, {"value": "5299", "year": "2014-10-12"}, {"value": "5299", "year": "2014-10-10"}, {"value": "5299", "year": "2014-10-08"}, {"value": "5299", "year": "2014-10-27"}],
  // The name of the data record attribute that contains x-values.
  xkey: 'year',
  // A list of names of data record attributes that contain y-values.
  ykeys: ['value'],
  // Labels for the ykeys -- will be displayed when you hover over the
  // chart.
  labels: ['Value']
});
</script>
{{super()}}
{% endblock %}
{% block head %}
{{super()}}
{{fixes.ie8()}}
{% endblock %}
